---
layout: default
title: Software Engineering - Starter Web app
date: 2018-06-13
categories: software-engineering
---

<p>
The purpose here is to go over some basic web stuff and get a server up and
running, with maybe a web interface.
</p>

<div id="outline-container-org59d4a5e" class="outline-2">
<h2 id="org59d4a5e"><span class="section-number-2">1</span> legend</h2>
<div class="outline-text-2" id="text-1">
</div>
<div id="outline-container-orga80aeae" class="outline-3">
<h3 id="orga80aeae"><span class="section-number-3">1.1</span> terminal commands</h3>
<div class="outline-text-3" id="text-1-1">
<p>
A source block with a <code>$</code> in front generally means this is a command you
should run as your normal user from within a terminal or shell. Commands on
your system are programs, and you should either only run commands you
understand and/or originate from a trusted (by you) source. If the command is
prefixed with a <code>#</code> it means to run the command with elevated permissions,
such as the <code>root</code> user or as a <code>sudoer</code> using <code>sudo</code>. Generally commands that
want elevated permissions should be treated with greater scrutiny.
</p>

<div class="org-src-container">
<pre class="src src-shell">$ ls -al
</pre>
</div>

<p>
This means copy <code>ls -al</code> and paste it into your terminal (on MacOS,
<code>Terminal.app</code> works just fine for this). Then press enter. You should see
some output from the command, or a lack of error. Sometimes seeing it do
nothing is okay. Once the command is complete, you'll see the prompt displayed
again (usually ending with <code>$</code>) which means the shell is ready for the next
command.
</p>

<p>
Some instructions will also omit the <code>$</code> entirely but provide some context
that this is a command you should be running. Usually this means you run the
command the same way you would as <code>$</code>, and NOT <code>#</code> (root).
</p>

<p>
Sometimes you'll see what seems to be both <code>$</code> and not <code>$</code> in the same block.
Generally this means that the <code>$</code> is the command you run, and the text that
follows that isn't preceded by a <code>$</code> is the <span class="underline">output</span> of the command(s).
</p>

<p>
For example:
</p>

<div class="org-src-container">
<pre class="src src-shell">$ ls
foo bar baz
</pre>
</div>

<p>
Here we're running <code>ls</code> and, as a contrived example, we're seeing it print
<code>foo bar baz</code> as its output.
</p>
</div>
</div>

<div id="outline-container-orgaa6bf2d" class="outline-3">
<h3 id="orgaa6bf2d"><span class="section-number-3">1.2</span> shell</h3>
<div class="outline-text-3" id="text-1-2">
<p>
A terminal is a window that runs a shell. A shell is a program that lets you
input commands and you can see the results. A <span class="underline">good</span> shell can provide lots
of assistance in putting together commands, and has a means of composition of
those commands. Composition is something we'll get more into later. The
commands themselves are too many to enumerate, and learning them is a place
where you can spend indefinite amounts of time mastering. Focus on learning
parts of the shell only a little bit at a time.
</p>
</div>
</div>
</div>

<div id="outline-container-org14f0858" class="outline-2">
<h2 id="org14f0858"><span class="section-number-2">2</span> tools</h2>
<div class="outline-text-2" id="text-2">
<p>
We'll need some tools installed to ease this along.
</p>
</div>
<div id="outline-container-org60937a8" class="outline-3">
<h3 id="org60937a8"><span class="section-number-3">2.1</span> system software</h3>
<div class="outline-text-3" id="text-2-1">
</div>
<div id="outline-container-orgba952d2" class="outline-4">
<h4 id="orgba952d2"><span class="section-number-4">2.1.1</span> homebrew</h4>
<div class="outline-text-4" id="text-2-1-1">
<p>
<a href="https://brew.sh">Homebrew</a> is needed to install some basic stuff. Follow the link and follow
it's instructions. See the <a href="#orgaa6bf2d">1.2</a> and <a href="#orga80aeae">1.1</a> section for learning
how to install Homebrew.
</p>

<p>
Once you have that, we'll want to install Homebrew's <code>cask</code> system, which
allows us to install apps (which can be considered to be a little different
from commands and utilities). We'll want to use cask later in your system
setup, so let's install it now:
</p>

<div class="org-src-container">
<pre class="src src-shell">brew tap caskroom/cask
</pre>
</div>
</div>
</div>

<div id="outline-container-orgbedda03" class="outline-4">
<h4 id="orgbedda03"><span class="section-number-4">2.1.2</span> Node.js</h4>
<div class="outline-text-4" id="text-2-1-2">
<p>
Once Homebrew is installed, we can install a recent version of Node.JS, which
we'll need for running a server. The version we install isn't terribly
important right now. Run this command to install Node:
</p>

<div class="org-src-container">
<pre class="src src-shell">brew install node
</pre>
</div>
</div>
</div>

<div id="outline-container-orga81e762" class="outline-4">
<h4 id="orga81e762"><span class="section-number-4">2.1.3</span> yarn</h4>
<div class="outline-text-4" id="text-2-1-3">
<p>
<code>yarn</code> is a replacement for <code>npm</code>. You don't need to know <code>npm</code> but
understand there is a lot of legacy projects out there with their install
instructions using <code>npm</code>. For the most part, any place you see <code>npm</code> you can
substitute with <code>yarn</code> and the command will work fine. One notable exception
is that <code>npm install &lt;package&gt;</code> maps to <code>yarn add &lt;package&gt;</code>. Here,
<code>&lt;package&gt;</code> refers to the name of a package without the angle braces (<code>&lt;&gt;</code>).
A package named <code>foo</code> would be installed with <code>yarn add foo</code>.
</p>

<p>
Install <code>yarn</code> with Homebrew using this command:
</p>
<div class="org-src-container">
<pre class="src src-shell">$ brew install yarn
</pre>
</div>
</div>
</div>

<div id="outline-container-org27c653c" class="outline-4">
<h4 id="org27c653c"><span class="section-number-4">2.1.4</span> git</h4>
<div class="outline-text-4" id="text-2-1-4">
<p>
<code>git</code> is a version control system. It's a vital tool for software
development as it performs incremental backups of your source code. It
provides a rich history (provided you leave messages for yourself) and
allows you to easily share your code with others.
</p>

<p>
I don't recall if MacOS has a version pre-installed, but I do know that with
Homebrew we can ensure we're using it and also be on the latest version:
</p>

<div class="org-src-container">
<pre class="src src-shell">brew install git
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgdb1de4e" class="outline-3">
<h3 id="orgdb1de4e"><span class="section-number-3">2.2</span> editor</h3>
<div class="outline-text-3" id="text-2-2">
<p>
<a href="https://atom.io">Atom</a> is a plenty good starter editor. It's basic. It's a pretty Notepad with
plugins and indentation. For now, this is fine.
</p>

<p>
You can install Atom via homebrew as well!
</p>

<div class="org-src-container">
<pre class="src src-shell">brew cask install atom
</pre>
</div>

<p>
Once this is done, you can run Atom from your terminal using the <code>atom</code>
command, or run it as an application from the <code>/Applications</code> directory. You
can also open Spotlight by pressing Command-Space and typing "atom" without
the quotes.
</p>
</div>
</div>
</div>
<div id="outline-container-org552d470" class="outline-2">
<h2 id="org552d470"><span class="section-number-2">3</span> your development directory</h2>
<div class="outline-text-2" id="text-3">
<p>
Your development directory is a place where you can throw all of your software
projects. It seems like everyone has their own convention and no two are
alike. You can't really get this wrong, but generally you might be typing it a
bit so keeping it short and sweet is nice. For this doc we're going to use
<code>dev</code> but really you can use anything you like so long as you can remember it
easily.
</p>

<div class="org-src-container">
<pre class="src src-shell">mkdir dev
</pre>
</div>

<p>
<code>mkdir</code> creates the <code>dev</code> directory. Now we'll enter the directory. <code>mkdir</code> is
a program that will only print something if something goes wrong, so if it
looks like nothing happened, that's okay. No news is good news.
</p>

<div class="org-src-container">
<pre class="src src-shell"><span style="color: #4f97d7;">cd</span> dev
</pre>
</div>

<p>
After running this, you should see <code>dev</code> in your shell's prompt.
</p>
</div>
</div>
<div id="outline-container-org9912b30" class="outline-2">
<h2 id="org9912b30"><span class="section-number-2">4</span> take a break</h2>
<div class="outline-text-2" id="text-4">
<p>
Good job! Let's take a minute to look around and not see a screw for a few
minutes.
</p>
</div>
</div>

<div id="outline-container-orgc20f303" class="outline-2">
<h2 id="orgc20f303"><span class="section-number-2">5</span> setting up your project</h2>
<div class="outline-text-2" id="text-5">
<p>
Let's make sure your terminal is in your development directory.
</p>

<div class="org-src-container">
<pre class="src src-shell">$ pwd
/Users/logan/dev
</pre>
</div>

<p>
Let's make a directory for our project. This project will be about expressing
our deep hatred of cats. Cats killed my parents, okay?
</p>

<div class="org-src-container">
<pre class="src src-shell">mkdir cat-hate
</pre>
</div>

<p>
And enter the directory:
</p>

<div class="org-src-container">
<pre class="src src-shell"><span style="color: #4f97d7;">cd</span> cat-hate
</pre>
</div>

<p>
Now let's let <code>yarn</code> initialize our project:
</p>

<div class="org-src-container">
<pre class="src src-shell">yarn init
</pre>
</div>

<p>
It will prompt you with some questions. If you don't know a good answer, or
are fine with its guess, you can use the default (which is the value in the
parenthesis <code>()</code>). Enter default values by pressing enter.
</p>

<p>
Let's also get <code>git</code> initialized.
</p>
<div class="org-src-container">
<pre class="src src-shell">git init
</pre>
</div>

<p>
We'll be running a Node server using a library called <code>express</code>. We can use
<code>yarn</code> to install it.
</p>

<div class="org-src-container">
<pre class="src src-shell">yarn add express
</pre>
</div>
</div>
</div>

<div id="outline-container-orgb85a837" class="outline-2">
<h2 id="orgb85a837"><span class="section-number-2">6</span> creating your first node app</h2>
<div class="outline-text-2" id="text-6">
<p>
Now we're going to open our editor. We can open it with a file (or even a
blank file that doesn't exist yet) by giving the <code>atom</code> command an argument.
The argument is the name of the file we want to open or create. Let's name it
<code>server.js</code>.
</p>

<div class="org-src-container">
<pre class="src src-shell">atom server.js
</pre>
</div>

<p>
We need to pull in <code>express</code>. In Node, we do that using <code>require</code>.
</p>

<p>
Put this into your editor:
</p>

<div class="org-src-container">
<pre class="src src-js" id="org355d21e"><span style="color: #4f97d7; font-weight: bold;">const</span> <span style="color: #7590db;">express</span> = require<span style="color: #4f97d7;">(</span><span style="color: #2d9574;">'express'</span><span style="color: #4f97d7;">)</span>
</pre>
</div>

<p>
<code>express</code> is a function that produces an "application" in their terms. Let's
create that now.
</p>

<div class="org-src-container">
<pre class="src src-js" id="orgd1de5c2"><span style="color: #4f97d7; font-weight: bold;">const</span> <span style="color: #7590db;">app</span> = express<span style="color: #4f97d7;">()</span>
</pre>
</div>

<p>
Now we'll construct an endpoint by listening to <code>GET</code> requests. We'll just
listen to ones directed at the root of our webapp for now.
</p>

<div class="org-src-container">
<pre class="src src-js" id="orgab7dbae">app.get<span style="color: #4f97d7;">(</span><span style="color: #2d9574;">'/'</span>, <span style="color: #bc6ec5;">(</span>req, res<span style="color: #bc6ec5;">)</span> =&gt; <span style="color: #bc6ec5;">{</span>
  res.send<span style="color: #2d9574;">(</span><span style="color: #2d9574;">'ohai'</span><span style="color: #2d9574;">)</span>
<span style="color: #bc6ec5;">}</span><span style="color: #4f97d7;">)</span>
</pre>
</div>

<p>
There's a lot going on there, even for a very simple response handler. We'll
go over that in a bit, but let's get it so we can run the server first, and
then test that it works.
</p>

<div class="org-src-container">
<pre class="src src-js" id="org0e3adb4">app.listen<span style="color: #4f97d7;">(</span><span style="color: #a45bad;">3000</span>, <span style="color: #bc6ec5;">()</span> =&gt; console.log<span style="color: #bc6ec5;">(</span><span style="color: #2d9574;">'Example app listening on port 3000!'</span><span style="color: #bc6ec5;">)</span><span style="color: #4f97d7;">)</span>
</pre>
</div>

<p>
Okay, so all together this is what it should look like:
</p>

<div class="org-src-container">
<pre class="src src-js"><span style="color: #4f97d7; font-weight: bold;">const</span> <span style="color: #7590db;">express</span> = require<span style="color: #4f97d7;">(</span><span style="color: #2d9574;">'express'</span><span style="color: #4f97d7;">)</span>

<span style="color: #4f97d7; font-weight: bold;">const</span> <span style="color: #7590db;">app</span> = express<span style="color: #4f97d7;">()</span>

app.get<span style="color: #4f97d7;">(</span><span style="color: #2d9574;">'/'</span>, <span style="color: #bc6ec5;">(</span>req, res<span style="color: #bc6ec5;">)</span> =&gt; <span style="color: #bc6ec5;">{</span>
  res.send<span style="color: #2d9574;">(</span><span style="color: #2d9574;">'ohai'</span><span style="color: #2d9574;">)</span>
<span style="color: #bc6ec5;">}</span><span style="color: #4f97d7;">)</span>

app.listen<span style="color: #4f97d7;">(</span><span style="color: #a45bad;">3000</span>, <span style="color: #bc6ec5;">()</span> =&gt; console.log<span style="color: #bc6ec5;">(</span><span style="color: #2d9574;">'Example app listening on port 3000!'</span><span style="color: #bc6ec5;">)</span><span style="color: #4f97d7;">)</span>
</pre>
</div>

<p>
Let's run the app:
</p>

<div class="org-src-container">
<pre class="src src-shell">$ node server.js
Example app listening on port <span style="color: #a45bad;">3000!</span>
</pre>
</div>

<p>
Now let's make a new tab (Command-T on MacOS). You might have to <code>cd</code> back to
your project directory:
</p>

<div class="org-src-container">
<pre class="src src-shell"><span style="color: #4f97d7;">cd</span> ~/dev/cat-hate
</pre>
</div>

<p>
Now we'll test that it works with <code>curl</code>, a powerful tool for using and
debugging HTTP requests.
</p>

<div class="org-src-container">
<pre class="src src-shell">$ curl http://localhost:3000
ohai
</pre>
</div>
</div>
</div>
